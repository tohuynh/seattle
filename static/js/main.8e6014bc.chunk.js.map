{"version":3,"sources":["../node_modules/natural/lib/natural/sentiment sync","utils/withTracker.jsx","components/Header.jsx","components/Footer.jsx","pages/Home.jsx","utils/getDateTime.js","components/EventCard.jsx","components/EventCardGroup.jsx","hooks/useFilter.js","components/FilterPopup.jsx","components/SelectDateRange.jsx","utils/isSubstring.js","components/SelectFilterOptions.jsx","api/utils.js","api/database.js","components/SelectSorting.jsx","api/eventApi.js","api/personApi.js","containers/EventsFilter.jsx","hooks/useDocumentTitle.js","containers/AllEvents.jsx","containers/EventCardGroup.jsx","pages/Search.jsx","utils/hhmmss.js","components/EventTranscript.jsx","components/EventSearch.jsx","components/EventMinutes.jsx","components/VotingTable.jsx","components/EventTabs.jsx","components/Event.jsx","containers/Event.jsx","pages/Event.jsx","pages/AllEvents.jsx","components/PeopleCardGroup.jsx","containers/PeopleCardGroupContainer.jsx","pages/People.jsx","components/Person.jsx","containers/PersonContainer.jsx","pages/Person.jsx","App.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","withTracker","WrappedComponent","options","trackPage","page","ReactGA","set","pageview","window","location","hash","substr","nextProps","currentPage","this","props","pathname","nextPage","Component","Brand","styled","h1","HeadingTab","transition","borderRadius","padding","backgroundColor","color","Header","Fragment","Segment","vertical","Container","to","style","marginLeft","Footer","inverted","Grid","stackable","Row","columns","Column","as","content","List","link","Item","Layout","minHeight","ContentContainer","marginTop","marginBottom","SearchBar","Input","width","StyledGrid","display","HomePage","React","useState","searchQuery","setSearchQuery","handleSearch","a","value","verticalAlign","centered","placeholder","onChange","onKeyPress","event","key","history","push","Button","attached","primary","Link","getDateTime","date","moment","utc","format","StyledCard","Card","boxShadow","StyledCardContent","Content","EventCard","name","description","fluid","Meta","Description","memo","events","Group","map","getSelectedOptions","Object","filter","k","isActive","values","some","option","isSameValue","prevValue","currentValue","hasOwnProperty","useFilter","initialState","filterName","defaultData","textRepFunction","clear","newValue","forEach","handleChange","dataValue","getTextRep","ButtonContainer","div","justifyContent","StyledPopup","Popup","minWidth","maxWidth","flexGrow","overflowY","PopupContainer","maxHeight","flexDirection","header","handlePopupClose","mountNodeRef","children","open","setOpen","handleClose","basic","flowing","mountNode","current","on","onClose","onOpen","pinned","offset","position","positionFixed","trigger","icon","labelPosition","Icon","size","onClick","getDateText","dateRange","start","end","startString","endString","year","month","split","Form","Field","type","isSubstring","string","substring","toLowerCase","indexOf","SearchCommitteeInput","paddingRight","getCheckboxText","filterValue","numberOfSelectedCheckbox","length","searchCommitteeQuery","setSearchCommitteeQuery","checked","filteredOptions","text","Checkbox","label","fetchJson","url","fetch","then","res","json","WHERE_OPERATORS","eq","contains","contains_any","in","gt","lt","gteq","lteq","ORDER_OPERATORS","asc","desc","WhereCondition","generalErr","Array","columnName","operator","includes","OrderCondition","by","s","String","db","credentials","firebase","initializeApp","connection","firestore","table","collection","doc","get","data","Promise","reject","queryResults","results","thisEvent","filters","orderBy","undefined","limit","ref","where","catch","err","_unpackQueryResults","apiKey","authDomain","projectId","databaseURL","getSortText","sort","order","textRep","sortByOptions","byOption","radio","storage","getAllEvents","selectRowsAsArray","allEvents","getBasicEvents","getEventMinutes","eventId","indexOrder","eventMinutes","getEventMinutesItem","eventMinutesItem","selectRowById","minutes_item_id","minutesItem","minutesItemFiles","minutes_item","file","getEventBody","bodyId","body","getEventTranscriptMetadata","firstTranscript","file_id","transcriptMetadata","gsReference","refFromURL","uri","getDownloadURL","transcript","getVotesForEvent","minutesItems","minuteItemsWithDecisions","minute","decision","formattedItems","item","matter","index","votePromises","all","minuteItemVotes","allPeople","i","votes","votesByPerson","vote","person","find","person_id","full_name","formattedIndividualVotes","sortBy","getEventById","body_id","minutes","videoUrl","video_uri","event_datetime","toMillis","toISOString","scPageUrl","source_uri","getEventsByIndexedTerm","term","bodyIDs","valueMin","natural","PorterStemmer","attach","stemmedTokens","tokenizeAndStem","stemmedToken","matches","summedMatchValueByEventId","mapValues","groupBy","flatten","match","event_id","eventTermMatches","reduce","sortedSummedMatches","sortEvents","filterEvents","getAllBodies","getFilteredEvents","promises","getFilteredEventsHelper","bodyID","startDate","Timestamp","fromMillis","valueOf","endDate","add","subtract","allBodies","isBefore","isAfter","sortOption","isSearch","getAllPeople","getVotesForPerson","personId","formattedVotes","eventMinutesItemsPromises","event_minutes_item_id","eventMinutesItems","minutesItemsPromises","eventsPromises","voteData","eventMinuteItem","minuteItem","formattedVote","voteForPerson","eventDate","body_name","sortedVotes","useRef","setAllBodies","committeeFilter","dateRangeFilter","sortFilter","useEffect","didCancel","fetchAllBodies","useDocumentTitle","title","document","FiltersSection","top","zIndex","ResultCount","span","LoadingText","fontWeight","fontSize","Results","paddingLeft","EventCardGroupContainer","query","initialGetEventsComplete","setInitialGetEventsComplete","filterEventsComplete","setFilterEventsComplete","visibleEvents","setVisibleEvents","fetchAllEvents","prevCommitteeRef","prevDateRangeRef","prevSortRef","scroll","committeeFilterValue","sortOrder","useHistory","fetchEventsByIndexedTerm","prevSearchRef","ids","join","replace","visible","onSubmit","preventDefault","widths","action","Search","queryString","parse","search","q","from","hhmmss","sec_num","parseInt","hours","Math","floor","seconds","TranscriptItem","flexWrap","alignItems","margin","TranscriptItemText","boxSizing","lineHeight","TimeStamp","searchText","handleSeek","windowScrollerRef","cache","CellMeasurerCache","fixedWidth","defaultHeight","handleUpdateScrollPosition","updatePosition","addEventListener","removeEventListener","onResize","clearAll","parent","columnIndex","rowIndex","start_time","searchWords","autoEscape","textToHighlight","height","deferredMeasurementCache","rowCount","rowHeight","rowRenderer","scrollToIndex","willChange","isScrolling","onChildScroll","scrollTop","disableHeight","autoHeight","onScroll","StyledEventSearch","Subheader","h2","SearchInput","SearchResultCount","TranscriptSearchHelpMessage","SearchResultsWrapper","border","flex","EventSearch","mediaQueriesMatches","transcriptSearchText","setTranscriptSearchText","transcriptItems","dispatchEvent","CustomEvent","MinuteList","ol","listStylePosition","MinuteTitle","MinuteDescription","FileList","ul","listStyleType","EventMinutes","target","rel","href","Headers","accessor","MiniTable","Person","Decision","StyledTableHeader","Table","VotingTable","votingData","isPerson","striped","headerMetaData","HeaderCell","Body","votingDatum","Cell","record","StyledEventTabs","StyledEventMenu","Menu","borderBottom","paddingTop","topOffset","activeItem","setActiveItem","contextRef","getBoundingClientRect","scrollIntoView","scrollBy","handleItemClick","Sticky","context","styleElement","secondary","pointing","active","details","StyledEvent","EventDate","h5","FixedSentinel","left","right","visibility","DummyContainer","isFixed","DummyDiv","PlayerContainer","isPip","PlayerWrapper","StyledReactPlayer","ReactPlayer","Event","fixedSentinelRef","videoPlayerRef","setIsPip","setIsFixed","matchMedia","setMediaQueriesMatches","setTopOffset","observer","IntersectionObserver","entries","intersectionRatio","isIntersecting","root","rootMargin","threshold","observe","disconnect","video","getInternalPlayer","onEnterPip","onLeavePip","mediaQueriesList","offsetHeight","seekTo","parseFloat","paused","getCurrentTime","play","onReady","controls","EventContainer","setEvent","eventData","Loader","EventPage","params","AllEventsPage","AllEvents","FlexWrapContainer","marginRight","cursor","transform","CardHeading","withRouter","people","email","PeopleCardGroupContainer","updatePeople","fetchData","People","FlexContainer","personHistory","phone","website","updatePersonHistory","initialize","App","basename","exact","path","component","Home","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8e6014bc.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 310;","import React, { Component } from \"react\";\nimport ReactGA from \"react-ga\";\n\nexport default function withTracker(WrappedComponent, options = {}) {\n  const trackPage = (page) => {\n    ReactGA.set({\n      page,\n      ...options\n    });\n    ReactGA.pageview(page);\n  };\n\n  const HOC = class extends Component {\n    componentDidMount() {\n      trackPage(window.location.hash.substr(1));\n    }\n\n    componentDidUpdate(nextProps) {\n      const currentPage = this.props.location.pathname;\n      const nextPage = nextProps.location.pathname;\n\n      if (currentPage !== nextPage) {\n        trackPage(nextPage);\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\n  return HOC;\n}\n","import React from \"react\";\nimport { Segment, Container } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\n\nconst Brand = styled.h1({});\n\nconst HeadingTab = styled(\"span\")({\n  transition: \".8s all\",\n  borderRadius: \"5px\",\n  padding: \"1rem .5rem\",\n  \":hover\": {\n    backgroundColor: \"#F5F5F5\",\n    color: \"black\"\n\n  }\n});\n\nconst Header = () => (\n  <React.Fragment>\n    <Segment vertical>\n      <Container>\n        <Link to=\"/\">\n          <Brand>Council Data Project</Brand>\n        </Link>\n      </Container>\n    </Segment>\n    <Segment vertical>\n      <Container>\n        <Link to=\"/events\">\n          <HeadingTab>Events</HeadingTab>\n        </Link>\n        <Link to=\"/people\">\n          <HeadingTab style={{ marginLeft: \"10px\" }}>People</HeadingTab>\n        </Link>\n      </Container>\n    </Segment>\n  </React.Fragment>\n);\n\nexport default Header;\n","import React from \"react\";\nimport { Container, Segment, Grid, Header, List } from \"semantic-ui-react\";\n\nconst Footer = () => (\n  <Segment inverted vertical style={{ padding: \"5em 0em\" }}>\n    <Container>\n      <Grid inverted stackable>\n        <Grid.Row columns=\"equal\">\n          <Grid.Column>\n            <Header inverted as=\"h4\" content=\"About\" />\n            <List link inverted>\n              <List.Item as=\"a\">The Project</List.Item>\n              <List.Item as=\"a\">The Team</List.Item>\n              <List.Item as=\"a\">Other Work</List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column>\n            <Header inverted as=\"h4\" content=\"Seattle\" />\n            <List link inverted>\n              <List.Item as=\"a\">City of Seattle</List.Item>\n              <List.Item as=\"a\">Seattle Open Data</List.Item>\n              <List.Item as=\"a\">Seattle Channel</List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column>\n            <Header inverted as=\"h4\" content=\"Developers\" />\n            <List link inverted>\n              <List.Item as=\"a\">Council Data Project</List.Item>\n              <List.Item as=\"a\">Seattle Specific</List.Item>\n              <List.Item as=\"a\">Transcription Runner</List.Item>\n            </List>\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row>\n          <p>\n            This web application is not funded by, nor associated with the\n            Seattle City Council. This is a prototype web application to show\n            the viability of an automated and collaborativly sourced city\n            council transcription service. The transcripts are roughly\n            ninty-percent accurate, and therefore may not represent what was\n            actually said.\n          </p>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  </Segment>\n);\n\nexport default Footer;\n","import React from \"react\";\nimport { Container, Input, Button, Grid } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\n\nconst Layout = styled(Container)({\n  minHeight: \"100vh\"\n});\n\nconst ContentContainer = styled(Container)({\n  marginTop: \"2em !important\",\n  marginBottom: \"5em !important\"\n});\n\nconst SearchBar = styled(Input)({\n  width: \"50% !important\"\n});\n\nconst StyledGrid = styled(Grid)({\n  display: \"block\",\n  marginTop: \"150px !important\"\n});\n\nconst HomePage = props => {\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n\n  const handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      props.history.push(`/search?q=${searchQuery}`);\n    }\n  };\n  const handleSearch = async (e, { value }) => {\n    setSearchQuery(value);\n  };\n\n  return (\n    <Layout>\n      <ContentContainer>\n        <StyledGrid verticalAlign=\"middle\" centered>\n          <Grid.Row>\n            <h1>Search City Council Transcripts</h1>\n          </Grid.Row>\n          <Grid.Row>\n            <SearchBar\n              placeholder=\"Enter a keyword to search meeting transcripts\"\n              value={searchQuery}\n              onChange={handleSearch}\n              onKeyPress={handleKeyPress}\n            />\n            <Button\n              attached=\"right\"\n              primary\n              as={Link}\n              to={`/search?q=${searchQuery}`}\n            >\n              Search\n            </Button>\n          </Grid.Row>\n        </StyledGrid>\n      </ContentContainer>\n    </Layout>\n  );\n};\n\nexport default HomePage;\n","import moment from 'moment';\n\n/*Always display PST/PDT for event_datetime, regardless of user's locale*/\nconst getDateTime = (date) => {\n  return moment.utc(date).format('MMMM D, YYYY h:mm A');\n};\n\nexport default getDateTime;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card } from \"semantic-ui-react\";\nimport styled from \"@emotion/styled\";\nimport getDateTime from \"../utils/getDateTime\";\n\nconst StyledCard = styled(Card)({\n  boxShadow: \"none !important\"\n});\n\nconst StyledCardContent = styled(Card.Content)({\n  padding: \"0 !important\"\n});\n\nconst EventCard = ({ name, date, description, link }) => (\n  <StyledCard fluid>\n    <StyledCardContent>\n      <Card.Header>\n        <Link to={link}>{name}</Link>\n      </Card.Header>\n      <Card.Meta>{getDateTime(date)}</Card.Meta>\n      <Card.Description>{description}</Card.Description>\n    </StyledCardContent>\n  </StyledCard>\n);\n\nexport default EventCard;\n","import React from \"react\";\nimport EventCard from \"./EventCard\";\nimport { Card } from \"semantic-ui-react\";\n\nconst EventCardGroup = ({ events }) => {\n  return (\n    <Card.Group centered>\n      {events.map(({ name, date, description, id }) => (\n        <EventCard\n          key={id}\n          name={name}\n          date={date}\n          description={description}\n          link={`/events/${id}`}\n        />\n      ))}\n    </Card.Group>\n  );\n};\n\nexport default React.memo(EventCardGroup);","import React from 'react';\n\nexport function getSelectedOptions(value) {\n  return Object.keys(value).filter(k => value[k]);\n}\n\nexport function isActive(value) {\n  return Object.values(value).some(option => option);\n}\n\nexport function isSameValue(prevValue, currentValue) {\n  if (!prevValue) {\n    return !isActive(currentValue);\n  }\n  const keys = Object.keys(currentValue);\n  let key;\n  for (key of keys) {\n    if (currentValue[key] && !prevValue.hasOwnProperty(key)) {\n      return false;\n    }\n    if ((currentValue[key] !== prevValue[key]) && prevValue.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n* @param {Object} initialState The inital filter Object, where the keys are the filter options and values are the filter values.\n* @param {Array[]} filterName The name of the filter.\n* @param {(boolean|string)} defaultData The default filter value.\n* @param {Function} textRepFunction The function to generate the text represenation of the filter object.\n* @return {Object} An object that encapsulates the fitler object state along with other methods to handle state changes.\n*/\nfunction useFilter(initialState, filterName, defaultData, textRepFunction) {\n  const [value, set] = React.useState(initialState);\n\n  const clear = () => {\n    set(prevValue => {\n      const newValue = { ...prevValue };\n      Object.keys(newValue).forEach(k => newValue[k] = defaultData);\n      return newValue;\n    });\n  }\n\n  const handleChange = (name, dataValue) => {\n    set(prevValue => {\n      return { ...prevValue, [name]: dataValue };\n    });\n  }\n\n  const getTextRep = () => {\n    return textRepFunction(value, filterName);\n  }\n\n  return { value, set, clear, handleChange, getTextRep };\n}\n\nexport default useFilter;","import React from 'react';\nimport { Button, Header, Icon, Popup } from 'semantic-ui-react';\nimport styled from '@emotion/styled';\nimport { isActive } from '../hooks/useFilter';\n\nconst ButtonContainer = styled.div({\n  display: 'flex',\n  justifyContent: 'space-between',\n  padding: '1em 0'\n});\n\nconst StyledPopup = styled(Popup)({\n  minWidth: '250px !important',\n  maxWidth: '90% !important',\n  boxShadow: 'none !important',\n  '@media(max-width:500px)': {\n    width: '86% !important'\n  }\n});\n\nconst ContentContainer = styled(Popup.Content)({\n  flexGrow: '1',\n  overflowY: 'auto !important',\n});\n\nconst PopupContainer = styled.div({\n  maxHeight: '45vh',\n  display: 'flex',\n  flexDirection: 'column'\n});\n\nconst FilterPopup = ({\n  filter,\n  header,\n  handlePopupClose,\n  mountNodeRef,\n  children\n}) => {\n  const { value, clear, getTextRep } = filter;\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    handlePopupClose();\n  };\n\n  const handleClear = () => {\n    clear();\n  };\n\n  return (\n    <StyledPopup\n      basic\n      flowing\n      mountNode={mountNodeRef.current}\n      on='click'\n      onClose={handleClose}\n      onOpen={handleOpen}\n      open={open}\n      pinned={true}\n      offset='0, -5px'\n      position='bottom left'\n      positionFixed={true}\n      trigger={\n        <Button\n          icon\n          labelPosition='right'\n          basic={!isActive(value)}>\n          <Icon name='angle down' />\n          {getTextRep()}\n        </Button>}\n    >\n    <PopupContainer>\n      <Header content={header} />\n      <ContentContainer>\n        {children}\n      </ContentContainer>\n      <ButtonContainer >\n        <Button size='mini' onClick={handleClear}>\n          <Icon name='remove' /> Clear\n        </Button>\n        <Button size='mini' primary onClick={handleClose}>\n          <Icon name='checkmark' /> Save\n        </Button>\n      </ButtonContainer>\n    </PopupContainer>\n    </StyledPopup>\n  );\n};\n\nexport default React.memo(FilterPopup);","import React from 'react';\nimport { Form } from 'semantic-ui-react';\nimport moment from 'moment';\n\nexport const getDateText = (dateRange, filterName) => {\n  const start = moment.utc(dateRange.start, 'YYYY-MM-DD');\n  const end = moment.utc(dateRange.end, 'YYYY-MM-DD');\n  const startString = start.format('MMM D, YYYY');\n  const endString = end.format('MMM D, YYYY');\n  let textRep;\n  if (dateRange.start && dateRange.end) {\n    if (start.year() === end.year() && start.month() === end.month()) {\n      textRep = `${startString.split(',')[0]} - ${end.date()}, ${end.year()}`;\n    } else if (start.year() === end.year()) {\n      textRep = `${startString.split(',')[0]} - ${endString.split(',')[0]}, ${end.year()}`;\n    } else {\n      textRep = `${startString} - ${endString}`;\n    }\n  } else if (dateRange.start) {\n    textRep = `${startString} -`;\n  } else if (dateRange.end) {\n    textRep = `- ${endString}`;\n  } else {\n    textRep = filterName;\n  }\n  return textRep;\n};\n\nconst SelectDateRange = ({\n  filter\n}) => {\n  const { value, handleChange } = filter;\n\n  const onChange = (e, { name, value }) => {\n    handleChange(name, value);\n  };\n\n  return (\n    <Form>\n      <Form.Field>From</Form.Field>\n      <Form.Input fluid name='start' type='date' onChange={onChange} value={value.start} />\n      <Form.Field>To</Form.Field>\n      <Form.Input fluid name='end' type='date' onChange={onChange} value={value.end} />\n    </Form>\n  );\n};\n\nexport default React.memo(SelectDateRange);","const isSubstring = (string = \"\", substring = \"\") =>\n  string.toLowerCase().indexOf(substring.toLowerCase()) !== -1;\n\nexport default isSubstring;\n","import React from 'react';\nimport { Form } from 'semantic-ui-react';\nimport styled from '@emotion/styled';\nimport isSubstring from '../utils/isSubstring'\n\nconst SearchCommitteeInput = styled(Form.Input)({\n  paddingRight: '.8em'\n});\n\nexport const getCheckboxText = (filterValue, filterName) => {\n  const numberOfSelectedCheckbox = Object.values(filterValue).filter(value => value).length;\n  const textRep = numberOfSelectedCheckbox ? `${filterName} : ${numberOfSelectedCheckbox}` : filterName;\n  return textRep;\n};\n\nconst SelectFilterOptions = ({\n  filter,\n  options,\n  searchCommitteeQuery,\n  setSearchCommitteeQuery,\n}) => {\n  const { value, handleChange } = filter;\n\n  const onChange = (e, { name, checked }) => {\n    handleChange(name, checked);\n  };\n\n  const onSearchCommiteeChange = (e, { value }) => {\n    setSearchCommitteeQuery(value);\n  };\n\n  const filteredOptions = options.filter(({ text }) => isSubstring(text, searchCommitteeQuery));\n\n  return (\n    <Form>\n      <SearchCommitteeInput\n        placeholder='Search Committee Names'\n        value={searchCommitteeQuery}\n        onChange={onSearchCommiteeChange} />\n      {filteredOptions.map(option =>\n        <Form.Checkbox\n          key={option.name}\n          label={option.text}\n          name={option.name}\n          checked={value[option.name]}\n          onChange={onChange}\n        />)}\n    </Form>\n  );\n};\n\nexport default React.memo(SelectFilterOptions);","export async function fetchJson(url){\n    return fetch(url)\n        .then(res => res.json())\n};\n\nexport function isString(s) {\n    return typeof(s) === \"string\" || s instanceof String;\n};\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport { isString } from \"./utils\";\n\nexport const WHERE_OPERATORS = {\n    eq: \"==\",\n    contains: \"array-contains\",\n    contains_any: \"array-contains-any\",\n    in: \"in\",\n    gt: \">\",\n    lt: \"<\",\n    gteq: \">=\",\n    lteq: \"<=\",\n};\n\nexport const ORDER_OPERATORS = {\n    asc: \"asc\",\n    desc: \"desc\"\n};\n\nexport class WhereCondition {\n    /**\n    * @param {(Object|Array)} filter The object or array to use to create a WhereCondition from.\n    *   When provided an Array, the array should be ordered like so [`columnName`, optional: `operator`, `value`].\n    *   When provided an Object, the object must have `columnName` and `value` attributes, and, optional `operator`\n    *   attributes. The `operator` is optional in both cases and if left out, will default to value equality.\n    */\n    constructor(filter) {\n        const generalErr = new Error(`Unsure how to create WhereCondition from received data: ${filter}`);\n\n        // Handle array and object\n        if (filter instanceof Array) {\n            // Array two items long, assume equal operator\n            if (filter.length === 2) {\n                this.columnName = filter[0];\n                this.operator = WHERE_OPERATORS.eq;\n                this.value = filter[1];\n            // Array of three items long, check order\n            } else if (filter.length === 3) {\n                // Check proper order by ensuring an approved operator is included at index one\n                if (Object.values(WHERE_OPERATORS).includes(filter[1])) {\n                    // Unpack contents\n                    this.columnName = filter[0];\n                    this.operator = filter[1];\n                    this.value = filter[2];\n                } else {\n                    throw new Error(`\n                        Unknown WhereCondition operator: ${filter[1]}\n                        Allowed WhereCondition operators: ${Object.values(WHERE_OPERATORS)}\n                    `);\n                };\n            // Log error in any other case\n            } else {\n                throw generalErr;\n            };\n        } else if (filter instanceof Object) {\n            // All attributes present and operator is valid\n            if (\n                filter.columnName &&\n                filter.operator &&\n                filter.value\n            ) {\n                if (Object.values(WHERE_OPERATORS).includes(filter.operator)) {\n                    this.columnName = filter.columnName;\n                    this.operator = filter.operator;\n                    this.value = filter.value;\n                } else {\n                    throw new Error(`\n                        Unknown WhereCondition operator: ${filter.operator}\n                        Allowed WhereCondition operators: ${Object.values(WHERE_OPERATORS)}\n                    `);\n                };\n            // Only column name and value attributes present, assume equal operator\n            } else if (filter.columnName && filter.value) {\n                this.columnName = filter.columnName;\n                this.operator = WHERE_OPERATORS.eq;\n                this.value = filter.value;\n            } else {\n                throw generalErr;\n            };\n        } else {\n            throw generalErr;\n        };\n    };\n};\n\nexport class OrderCondition {\n    /**\n    * @param {(Object|Array|string)} order The object, array, or string to use to create an OrderCondition from.\n    *   When provided an Array, the array should be ordered like so [`columnName`, optional: `operator`].\n    *   When provided an Object, the object must have `columnName`, and, optional `operator` attributes.\n    *   The `operator` is optional in both cases and if left out, will default to `descending`.\n    *   When provided a String, the string is simply the `columnName` for the OrderCondition, as the `operator` will\n    *   default to `descending`.\n    */\n    constructor(by) {\n        const generalErr = new Error(`Unsure how to create OrderCondition from received data: ${by}`);\n\n        // Handle string, array, and object\n        if (isString(by)) {\n            this.columnName = by;\n            this.operator = ORDER_OPERATORS.desc;\n        } else if (by instanceof Array) {\n            // Array single item long, assume descending operator\n            if (by.length === 1) {\n                this.columnName = by[0];\n                this.operator = ORDER_OPERATORS.desc;\n            // Array of two items long, check order\n            } else if (by.length === 2) {\n                // Check proper order by ensuring an approved operator is included at index one\n                if (Object.values(ORDER_OPERATORS).includes(by[1])) {\n                    // Unpack contents\n                    this.columnName = by[0];\n                    this.operator = by[1];\n                } else {\n                    throw new Error(`\n                        Unknown OrderCondition operator: ${by[1]}\n                        Allowed OrderCondition operators: ${Object.values(ORDER_OPERATORS)}\n                    `);\n                };\n            // Log error in any other case\n            } else {\n                throw generalErr;\n            };\n        } else if (by instanceof Object) {\n            // All attributes present and operator is valid\n            if (\n                by.columnName &&\n                by.operator\n            ) {\n                if (Object.values(ORDER_OPERATORS).includes(by.operator)) {\n                    this.columnName = by.columnName;\n                    this.operator = by.operator;\n                } else {\n                    throw new Error(`\n                        Unknown OrderCondition operator: ${by.operator}\n                        Allowed OrderCondition operators: ${Object.values(ORDER_OPERATORS)}\n                    `);\n                };\n            // Only column name, assume descending operator\n            } else if (by.columnName) {\n                this.columnName = by.columnName;\n                this.operator = ORDER_OPERATORS.desc;\n            } else {\n                throw generalErr;\n            };\n        } else {\n            throw generalErr;\n        };\n    };\n};\n\nclass Database {\n    /**\n    * @param {Object} credentials An object that contains all reqired information to interact with a CDP database.\n    */\n    constructor(credentials) {\n        // Store for save keeping\n        this.credentials = credentials;\n\n        // Initialize Connection\n        firebase.initializeApp(this.credentials);\n\n        // Store connection\n        this.connection = firebase.firestore();\n    };\n\n    /**\n    * @param {string} table The name of the table (collection) you want to request results from.\n    * @param {string} id The id for the row you want to retrieve.\n    * @return {Object} If the row was found, the row's contents are returned as an object.\n    */\n    async selectRowById(table, id) {\n        try {\n            const res = await this.connection\n                .collection(table)\n                .doc(id)\n                .get()\n                \n            return res.data();\n        } catch (e) {\n            return Promise.reject(e);\n        };\n    };\n\n    /**\n    * @param {Object[]} queryResults The results returned from a query to the database.\n    * @return {Object[]} The formatted query results.\n    */\n    async _unpackQueryResults(queryResults) {\n        const results = [];\n        queryResults.forEach(doc => {\n            const data = doc.data();\n            const thisEvent = {\n              id: doc.id,\n              ...data\n            };\n            results.push(thisEvent);\n        });\n        return results;\n    };\n\n    /**\n    * @param {string} table The name of the table (collection) you want to request results from.\n    * @param {(Object[]|Array[])} [filters] A list of filters (where conditions) to add.\n    * @param {(Object|string)} [orderBy] An order by condition to order the results by prior to returning.\n    * @param {integer} [limit=1000] An integer limit to how many rows should be returned that match the query provided.\n    * @return {Object[]} The formatted query results.\n    */\n    async selectRowsAsArray(table, filters = [], orderBy = undefined, limit = 1000) {\n        try {\n            // Make basic reference\n            let ref = this.connection.collection(table);\n\n            // Attach filters\n            filters.forEach(filter => {\n                ref = ref.where(filter.columnName, filter.operator, filter.value);\n            });\n\n            // Attach order by\n            if (orderBy) {\n                ref = ref.orderBy(orderBy.columnName, orderBy.operator);\n            };\n\n            // Attach limit\n            ref = ref.limit(limit);\n\n            // Make requst\n            const res = await ref.get()\n                .catch(err => {\n                    throw new Error(`Failed to retrieve data from database. Error: ${err}`);\n                });\n\n            // Return the formatted results\n            return await this._unpackQueryResults(res);\n        } catch (e) {\n            return Promise.reject(e);\n        };\n    };\n};\n\n// Export created and connected database\nexport const db = new Database({\n    apiKey: \"AIzaSyA7aO6weBcOUBZLmxE3aMyn4NeElVEHZUc\",\n    authDomain: \"cdp-sea.firebaseapp.com\",\n    projectId: \"cdp-seattle\",\n    databaseURL: \"https://cdp-sea.firebaseio.com\"\n});\n","import React from 'react';\nimport { Form } from 'semantic-ui-react';\nimport { ORDER_OPERATORS } from '../api/database';\n\nexport const getSortText = (sort, filterName) => {\n  let by;\n  let order;\n  if (sort.by) {\n    switch (sort.by) {\n      case 'name':\n        by = 'Committee';\n        break;\n      case 'date':\n        by = 'Date';\n        break;\n      case 'value':\n        by = 'Relevance';\n        break;\n      default:\n        break;\n    }\n  }\n  if (sort.order) {\n    order = sort.order === ORDER_OPERATORS.asc ? 'Ascending' : 'Descending';\n  }\n  let textRep = filterName;\n  if (by && order) {\n    textRep += ` by ${by}: ${order}`;\n  } else if (by) {\n    textRep += ` by ${by}`;\n  } else if (order) {\n    textRep += ` ${order}`;\n  } else {\n    textRep += ' By';\n  }\n  return textRep;\n};\n\nconst SelectSorting = ({\n  filter,\n  sortByOptions\n}) => {\n  const { value, handleChange } = filter;\n\n  const onChange = (e, { name, value }) => {\n    handleChange(name, value);\n  };\n\n  return (\n    <Form>\n      <Form.Field>Sort By</Form.Field>\n      {sortByOptions.map(byOption =>\n        <Form.Checkbox\n          key={byOption.value}\n          radio\n          label={byOption.label}\n          name='by'\n          value={byOption.value}\n          checked={value.by === byOption.value}\n          onChange={onChange}\n        />)}\n      <Form.Field>Sort Order</Form.Field>\n      <Form.Checkbox\n        radio\n        label='Ascending'\n        name='order'\n        value={ORDER_OPERATORS.asc}\n        checked={value.order === ORDER_OPERATORS.asc}\n        onChange={onChange}\n      />\n      <Form.Checkbox\n        radio\n        label='Descending'\n        name='order'\n        value={ORDER_OPERATORS.desc}\n        checked={value.order === ORDER_OPERATORS.desc}\n        onChange={onChange}\n      />\n    </Form>\n  );\n};\n\nexport default React.memo(SelectSorting);","import firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport moment from \"moment\";\nimport natural from \"natural\";\nimport { flatten, orderBy, sortBy, groupBy, mapValues, filter } from \"lodash\";\nimport { db, WhereCondition, WHERE_OPERATORS, OrderCondition, ORDER_OPERATORS } from \"./database\";\nimport { fetchJson } from \"./utils\";\n\nconst storage = firebase.storage();\n\nexport async function getAllEvents() {\n  try {\n    const allEvents = await db.selectRowsAsArray(\n      \"event\",\n      [],\n      new OrderCondition([\"event_datetime\", ORDER_OPERATORS.desc])\n    );\n    return await getBasicEvents(allEvents);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport async function getEventMinutes(eventId, indexOrder) {\n  try {\n    const eventMinutes = await db.selectRowsAsArray(\n      \"event_minutes_item\",\n      [new WhereCondition([\"event_id\", WHERE_OPERATORS.eq, eventId])],\n      new OrderCondition([\"index\", indexOrder])\n    );\n    return eventMinutes;\n  } catch (e) {\n    return Promise.reject(e);\n  };\n}\n\nexport async function getEventMinutesItem(eventMinutesItem) {\n  try {\n    const minutesItem = await db.selectRowById(\"minutes_item\", eventMinutesItem.minutes_item_id);\n    const minutesItemFiles = await db.selectRowsAsArray(\n      \"minutes_item_file\",\n      [new WhereCondition([\"minutes_item_id\", WHERE_OPERATORS.eq, eventMinutesItem.minutes_item_id])],\n      new OrderCondition(['name', ORDER_OPERATORS.asc])\n    );\n\n    return {\n      ...eventMinutesItem,\n      minutes_item: {\n        id: eventMinutesItem.minutes_item_id,\n        ...minutesItem,\n        file: minutesItemFiles\n      }\n    };\n  } catch (e) {\n    return Promise.reject(e);\n  };\n}\n\nexport async function getEventBody(bodyId) {\n  try {\n    const body = await db.selectRowById('body', bodyId);\n    return body;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport async function getEventTranscriptMetadata(eventId) {\n  try {\n    const [firstTranscript] = await db.selectRowsAsArray(\n      \"transcript\",\n      [new WhereCondition([\"event_id\", WHERE_OPERATORS.eq, eventId])]\n    );\n\n    const transcriptMetadata = await db.selectRowById(\"file\", firstTranscript.file_id);\n\n    // https://firebase.google.com/docs/storage/web/download-files\n    const gsReference = storage.refFromURL(transcriptMetadata.uri);\n    const transcript = await gsReference\n      .getDownloadURL()\n      .then(url => fetchJson(url));\n    return transcript;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport async function getVotesForEvent(minutesItems) {\n  const minuteItemsWithDecisions = minutesItems.filter(\n    minute => minute.decision !== null\n  );\n\n  const formattedItems = [];\n  minuteItemsWithDecisions.forEach(item => {\n    formattedItems.push({\n      matter: item.minutes_item.matter,\n      name: item.minutes_item.name,\n      id: item.id,\n      decision: item.decision,\n      index: item.index\n    });\n  });\n\n  const votePromises = formattedItems.map(item =>\n    db.selectRowsAsArray(\n      \"vote\",\n      [new WhereCondition([\"event_minutes_item_id\", WHERE_OPERATORS.eq, item.id])]\n    )\n  );\n\n  const minuteItemVotes = await Promise.all(votePromises);\n\n  const allPeople = await db.selectRowsAsArray(\"person\");\n\n  formattedItems.forEach((item, i) => {\n    const votes = minuteItemVotes[i];\n    const votesByPerson = [];\n    votes.forEach(vote => {\n      const person = allPeople.find(person => person.id === vote.person_id)\n      votesByPerson.push({\n        decision: vote.decision,\n        person_id: vote.person_id,\n        full_name: person.full_name\n      });\n    });\n\n    item.formattedIndividualVotes = sortBy(votesByPerson, vote => vote.full_name);\n  });\n\n  return formattedItems;\n}\n\nexport async function getEventById(id) {\n  try {\n    const event = await db.selectRowById(\"event\", id);\n    const body = await getEventBody(event.body_id);\n    const minutes = await getEventMinutes(id, ORDER_OPERATORS.asc);\n    const minutesItems = await Promise.all(\n      minutes.map(minute => getEventMinutesItem(minute))\n    );\n    const transcript = await getEventTranscriptMetadata(id);\n    const votes = await getVotesForEvent(minutesItems);\n\n    return {\n      id,\n      name: body.name,\n      description: body.description,\n      videoUrl: event.video_uri,\n      date: moment\n        .utc(event.event_datetime.toMillis())\n        .toISOString(),\n      minutes: minutesItems,\n      transcript: transcript.data,\n      scPageUrl: event.source_uri,\n      votes: votes\n    };\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport async function getEventsByIndexedTerm(term, dateRange = {}, bodyIDs = [], sort = {}) {\n  const valueMin = 0;\n  try {\n    natural.PorterStemmer.attach();\n\n    const stemmedTokens = term.tokenizeAndStem();\n    if (stemmedTokens.length === 0) {\n      return [];\n    }\n\n    // get matches for each term\n    const matches = await Promise.all(\n      stemmedTokens.map(stemmedToken =>\n        db.selectRowsAsArray(\n          \"indexed_event_term\",\n          [new WhereCondition([\"term\", WHERE_OPERATORS.eq, stemmedToken])]\n        )\n      )\n    );\n\n    // create a map of event id to object with id and sum of match values\n    const summedMatchValueByEventId = mapValues(\n      groupBy(flatten(matches), match => match.event_id),\n      (eventTermMatches, key) =>\n        eventTermMatches.reduce(\n          (current, item) => ({\n            ...current,\n            value: current.value + item.value\n          }),\n          { event_id: key, value: 0 }\n        )\n    );\n\n    const sortedSummedMatches = filter(summedMatchValueByEventId, ({ value }) => value > valueMin);\n    let events = await Promise.all(\n      sortedSummedMatches.map(({ event_id }) => db.selectRowById('event', event_id))\n    );\n\n    events = await getBasicEvents(events);\n\n    events.forEach((event, i) => {\n      event.id = sortedSummedMatches[i].event_id;\n      event.value = sortedSummedMatches[i].value;\n    });\n\n    events = filterEvents(events, dateRange, bodyIDs);\n    events = sortEvents(events, sort, true);\n    return events;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport async function getAllBodies() {\n  try {\n    return db.selectRowsAsArray(\n      'body',\n      [],\n      new OrderCondition(['name', ORDER_OPERATORS.asc])\n    );\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\n/**\n* @param {Object} dateRange The start and end dates to filter events. \n* @param {Array[]} bodyIDs A list of committee ids to filter events.\n* @param {Object} sort The sort by and sort order options.\n* @return {Array[]} A list of filtered events.\n*/\nexport async function getFilteredEvents(dateRange, bodyIDs, sort) {\n  try {\n    const promises = [];\n    if (bodyIDs.length) {\n      bodyIDs.forEach(id => promises.push(getFilteredEventsHelper(dateRange, id)));\n    } else {\n      promises.push(getFilteredEventsHelper(dateRange));\n    }\n    let events = flatten(await Promise.all(promises));\n    events = await getBasicEvents(events);\n    events = sortEvents(events, sort);\n    return events;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nasync function getFilteredEventsHelper(dateRange, bodyID = null) {\n  const filters = [];\n  if (bodyID) {\n    filters.push(new WhereCondition(['body_id', WHERE_OPERATORS.eq, bodyID]));\n  }\n  if (dateRange.start) {\n    const startDate = moment.utc(dateRange.start, 'YYYY-MM-DD')\n    const start = firebase.firestore.Timestamp.fromMillis(startDate.valueOf());\n    filters.push(new WhereCondition(['event_datetime', WHERE_OPERATORS.gteq, start]));\n  }\n  if (dateRange.end) {\n    const endDate = moment.utc(dateRange.end, 'YYYY-MM-DD').add(1, 'days').subtract(1, 'milliseconds');\n    const end = firebase.firestore.Timestamp.fromMillis(endDate.valueOf());\n    filters.push(new WhereCondition(['event_datetime', WHERE_OPERATORS.lteq, end]));\n  }\n\n  return db.selectRowsAsArray(\n    'event',\n    filters\n  );\n}\n\nasync function getBasicEvents(events) {\n  const allBodies = await getAllBodies();\n  return events.map(event => {\n    const body = allBodies.find(body => body.id === event.body_id);\n    return {\n      id: event.id,\n      body_id: body.id,\n      name: body.name,\n      description: body.description,\n      date: moment\n        .utc(event.event_datetime.toMillis())\n        .toISOString()\n    };\n  });\n}\n\n/**\n* @param {Array[]} events The list of events to filter.\n* @param {Object} dateRange The start and end dates to filter events. \n* @param {Array[]} bodyIDs A list of committee ids to filter events.\n* @return {Array[]} A list of filtered events.\n*/\nfunction filterEvents(events, dateRange, bodyIDs) {\n  return events.filter(event => {\n    if (bodyIDs.length && bodyIDs.indexOf(event.body_id) === -1) {\n      return false;\n    }\n\n    if (dateRange.start && moment.utc(event.date).isBefore(moment.utc(dateRange.start))) {\n      return false;\n    }\n\n    if (dateRange.end) {\n      const endDate = moment.utc(dateRange.end, 'YYYY-MM-DD').add(1, 'days').subtract(1, 'milliseconds');\n      if (moment.utc(event.date).isAfter(endDate)) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n\n/**\n* @param {Array[]} events The list of events to sort.\n* @param {Object} sortOption The sort by and sort order options.\n* @param {boolean} isSearch Whether the list of events is from the search page.\n* @return {Array[]} A list of sorted events according to sortOption.\n*/\nfunction sortEvents(events, sortOption, isSearch = false) {\n  if (sortOption.by && sortOption.order) {\n    events = orderBy(events, [sortOption.by], [sortOption.order]);\n  } else {\n    events = orderBy(events, [isSearch ? 'value' : 'date'], [ORDER_OPERATORS.desc]);\n  }\n\n  return events;\n}","import { db, WhereCondition, WHERE_OPERATORS, OrderCondition, ORDER_OPERATORS } from './database';\nimport { orderBy } from 'lodash';\nimport moment from 'moment';\n\nexport async function getAllPeople() {\n  const allPeople = await db.selectRowsAsArray(\n    'person',\n    [],\n    new OrderCondition(['full_name', ORDER_OPERATORS.asc])\n  );\n  return allPeople;\n}\n\n/**\n * @param {object} personData takes data from person query, all it needs is {id: id}\n * @returns {object} that has the person information and an array of votes with the following data:\n * { id, matter, name, voteForPerson, decision, eventId, index, eventDate, body_name }\n */\n\nexport async function getVotesForPerson(personId) {\n  const formattedVotes = [];\n  const person = await db.selectRowById('person', personId);\n  const votes = await db.selectRowsAsArray(\n    'vote',\n    [new WhereCondition(['person_id', WHERE_OPERATORS.eq, personId])],\n  );\n  const eventMinutesItemsPromises = votes.map(vote => db.selectRowById('event_minutes_item', vote.event_minutes_item_id));\n  const eventMinutesItems = await Promise.all(eventMinutesItemsPromises);\n  const minutesItemsPromises = eventMinutesItems.map(item => db.selectRowById('minutes_item', item.minutes_item_id));\n  const minutesItems = await Promise.all(minutesItemsPromises);\n  // commented this out for now, but we could link to the file if we get this data\n  // const allMinuteFiles = await getAllResources('minutes_item_file')\n  const eventsPromises = eventMinutesItems.map(item => db.selectRowById('event', item.event_id));\n  const events = await Promise.all(eventsPromises);\n  const allBodies = await db.selectRowsAsArray('body');\n  \n  votes.forEach((voteData, i) => {\n    const eventMinuteItem = eventMinutesItems[i];\n    const minuteItem = minutesItems[i];\n    const event = events[i];\n    const body = allBodies.find(item => item.id === event.body_id);\n    // const file = allMinuteFiles.find(item => item.minutes_item_id === minuteItem.id)\n    const formattedVote = {\n      id: voteData.id,\n      matter: minuteItem.matter,\n      name: minuteItem.name,\n      // what this person voted\n      voteForPerson: voteData.decision,\n      // what the coucile decided\n      decision: eventMinuteItem.decision,\n      eventId: eventMinuteItem.event_id,\n      index: eventMinuteItem.index,\n      eventDate: moment.utc(event.event_datetime.toMillis()).toISOString(),\n      body_name: body.name\n      // file\n    }\n    formattedVotes.push(formattedVote)\n  });\n  const sortedVotes = orderBy(formattedVotes, ['eventDate', 'index'], ['desc', 'desc']);\n  return { ...person, votes: sortedVotes };\n}","import React from 'react';\nimport FilterPopup from '../components/FilterPopup';\nimport SelectDateRange from '../components/SelectDateRange';\nimport SelectFilterOptions from '../components/SelectFilterOptions';\nimport SelectSorting from '../components/SelectSorting';\nimport { getAllBodies } from '../api';\n\nconst EventsFilter = ({\n  filters,\n  handlePopupClose,\n  sortByOptions\n}) => {\n  const mountNodeRef = React.useRef();\n  const [allBodies, setAllBodies] = React.useState([]);\n  const [committeeFilter, dateRangeFilter, sortFilter] = filters;\n  const [searchCommitteeQuery, setSearchCommitteeQuery] = React.useState('')\n\n  const getCommitteeNameOptions = () => {\n    return allBodies.map(body => {\n      return {\n        name: body.id,\n        text: body.name\n      }\n    });\n  };\n\n  React.useEffect(() => {\n    //to prevent setting react state when the component is unmounted\n    let didCancel = false;\n\n    const fetchAllBodies = async () => {\n      const allBodies = await getAllBodies();\n      if (!didCancel) {\n        setAllBodies(allBodies);\n      }\n    };\n\n    fetchAllBodies();\n\n    return (() => {\n      didCancel = true;\n    })\n  }, []);\n\n  return (\n    <React.Fragment>\n      <FilterPopup\n        filter={committeeFilter}\n        header='Select Committees'\n        handlePopupClose={handlePopupClose}\n        mountNodeRef={mountNodeRef}>\n        <SelectFilterOptions\n          filter={committeeFilter}\n          options={getCommitteeNameOptions()}\n          searchCommitteeQuery={searchCommitteeQuery}\n          setSearchCommitteeQuery={setSearchCommitteeQuery} />\n      </FilterPopup>\n      <FilterPopup\n        filter={dateRangeFilter}\n        header='Select Date Range'\n        handlePopupClose={handlePopupClose}\n        mountNodeRef={mountNodeRef}>\n        <SelectDateRange\n          filter={dateRangeFilter} />\n      </FilterPopup>\n      <FilterPopup\n        filter={sortFilter}\n        header='Select Sorting'\n        handlePopupClose={handlePopupClose}\n        mountNodeRef={mountNodeRef}>\n        <SelectSorting\n          filter={sortFilter}\n          sortByOptions={sortByOptions} />\n      </FilterPopup>\n      <div ref={mountNodeRef} />\n    </React.Fragment>\n  )\n};\n\nexport default React.memo(EventsFilter);","import React from 'react';\n\nfunction useDocumentTitle(title) {\n  React.useEffect(() => {\n    document.title = title;\n\n    return () => {\n      document.title = 'Council Data Project - Seattle';\n    };\n  }, [title]);\n\n}\n\nexport default useDocumentTitle;","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport EventCardGroup from \"../components/EventCardGroup\";\nimport EventsFilter from \"./EventsFilter\";\nimport { getDateText } from \"../components/SelectDateRange\";\nimport { getCheckboxText } from \"../components/SelectFilterOptions\";\nimport { getSortText } from \"../components/SelectSorting\";\nimport useDocumentTitle from \"../hooks/useDocumentTitle\";\nimport useFilter, { getSelectedOptions, isSameValue } from \"../hooks/useFilter\";\nimport { getAllEvents, getFilteredEvents } from \"../api\";\n\nexport const FiltersSection = styled.div({\n  position: \"sticky\",\n  top: \"0\",\n  backgroundColor: \"white\",\n  zIndex: \"1\",\n  padding: \"1em 0 2em\",\n  \"> .ui.button\": {\n    marginBottom: \"0.5em\",\n    \"@media(max-width:500px)\": {\n      width: \"100%\"\n    }\n  }\n});\n\nexport const ResultCount = styled.span({\n  display: \"block\",\n  color: \"grey\",\n  marginBottom: \"2em\"\n});\n\nexport const LoadingText = styled.span({\n  color: \"grey\",\n  fontWeight: \"700\",\n  fontSize: \"1.5em\",\n  marginTop: \"1em\",\n});\n\nexport const Results = styled.div({\n  paddingLeft: \"1em\"\n});\n\nconst EventCardGroupContainer = ({ query }) => {\n  const [initialGetEventsComplete, setInitialGetEventsComplete] = React.useState(false);\n  const [filterEventsComplete, setFilterEventsComplete] = React.useState(true);\n  const [visibleEvents, setVisibleEvents] = React.useState([]);\n  const dateRangeFilter = useFilter({ start: '', end: '' }, 'Date', '', getDateText);\n  const committeeFilter = useFilter({}, 'Committee', false, getCheckboxText);\n  const sortFilter = useFilter({ by: '', order: '' }, 'Sort', '', getSortText);\n  useDocumentTitle('Committee Events');\n\n  React.useEffect(() => {\n    //to prevent setting react state when the component is unmounted\n    let didCancel = false;\n\n    const fetchAllEvents = async () => {\n      const allEvents = await getAllEvents();\n      if (!didCancel) {\n        setVisibleEvents(allEvents);\n        setInitialGetEventsComplete(true);\n      }\n    };\n\n    fetchAllEvents();\n\n    return (() => {\n      didCancel = true;\n    });\n  }, []);\n\n  const prevCommitteeRef = React.useRef();\n  const prevDateRangeRef = React.useRef();\n  const prevSortRef = React.useRef();\n\n  const handlePopupClose = async () => {\n    if (!isSameValue(prevCommitteeRef.current, committeeFilter.value) ||\n      !isSameValue(prevDateRangeRef.current, dateRangeFilter.value) ||\n      !isSameValue(prevSortRef.current, sortFilter.value)) {\n      window.scroll(0, 0);\n      setFilterEventsComplete(false);\n      setVisibleEvents([]);\n      const events = await getFilteredEvents(dateRangeFilter.value,\n        getSelectedOptions(committeeFilter.value),\n        sortFilter.value);\n      setVisibleEvents(events);\n      prevCommitteeRef.current = committeeFilter.value;\n      prevDateRangeRef.current = dateRangeFilter.value;\n      prevSortRef.current = sortFilter.value;\n      setFilterEventsComplete(true);\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <FiltersSection>\n        <EventsFilter\n          filters={[committeeFilter, dateRangeFilter, sortFilter]}\n          handlePopupClose={handlePopupClose}\n          sortByOptions={[{ label: 'Committee', value: 'name' },\n          { label: 'Date', value: 'date' }]} />\n      </FiltersSection>\n      <Results>\n        {(!initialGetEventsComplete || !filterEventsComplete) ? (\n          <LoadingText>Loading...</LoadingText>\n        ) : (\n            <ResultCount>{visibleEvents.length} results</ResultCount>\n          )}\n        <EventCardGroup events={visibleEvents} />\n      </Results>\n    </React.Fragment>\n  );\n};\n\nexport default EventCardGroupContainer;\n","import React from \"react\";\nimport { Button, Form } from \"semantic-ui-react\";\nimport EventCardGroup from \"../components/EventCardGroup\";\nimport EventsFilter from \"./EventsFilter\";\nimport { getDateText } from \"../components/SelectDateRange\";\nimport { getCheckboxText } from \"../components/SelectFilterOptions\";\nimport { getSortText } from \"../components/SelectSorting\";\nimport { FiltersSection, ResultCount, LoadingText, Results } from \"./AllEvents\";\nimport useDocumentTitle from \"../hooks/useDocumentTitle\";\nimport useFilter, { getSelectedOptions, isSameValue } from \"../hooks/useFilter\";\nimport { useHistory } from \"react-router-dom\";\nimport { getEventsByIndexedTerm } from \"../api\";\n\nconst EventCardGroupContainer = ({\n  query,\n  committeeFilterValue,\n  start,\n  end,\n  sortBy,\n  sortOrder\n}) => {\n  const [initialGetEventsComplete, setInitialGetEventsComplete] = React.useState(false);\n  const [searchQuery, setSearchQuery] = React.useState(query);\n  const [visibleEvents, setVisibleEvents] = React.useState([]);\n  const dateRangeFilter = useFilter({ start: start, end: end }, 'Date', '', getDateText);\n  const committeeFilter = useFilter(committeeFilterValue, 'Committee', false, getCheckboxText);\n  const sortFilter = useFilter({ by: sortBy, order: sortOrder }, 'Sort', '', getSortText);\n  useDocumentTitle(`Search - ${searchQuery}`);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    //to prevent setting react state when the component is unmounted\n    let didCancel = false;\n\n    const fetchEventsByIndexedTerm = async () => {\n      const events = await getEventsByIndexedTerm(query,\n        { start: start, end: end },\n        getSelectedOptions(committeeFilterValue),\n        { by: sortBy, order: sortOrder });\n      if (!didCancel) {\n        setVisibleEvents(events);\n        setInitialGetEventsComplete(true);\n      }\n    };\n\n    fetchEventsByIndexedTerm();\n\n    return (() => {\n      didCancel = true;\n    });\n  }, [query, committeeFilterValue, start, end, sortBy, sortOrder]);\n\n  const onSearchQueryChange = (e, { value }) => {\n    setSearchQuery(value);\n  };\n\n  const prevCommitteeRef = React.useRef();\n  const prevDateRangeRef = React.useRef();\n  const prevSortRef = React.useRef();\n  const prevSearchRef = React.useRef(query);\n\n  const handlePopupClose = () => {\n    if (!isSameValue(prevCommitteeRef.current, committeeFilter.value) ||\n      !isSameValue(prevDateRangeRef.current, dateRangeFilter.value) ||\n      !isSameValue(prevSortRef.current, sortFilter.value) ||\n      prevSearchRef.current !== searchQuery) {\n      window.scroll(0, 0);\n      setInitialGetEventsComplete(false);\n      setVisibleEvents([]);\n      const ids = getSelectedOptions(committeeFilter.value).join(',');\n      const start = dateRangeFilter.value.start;\n      const end = dateRangeFilter.value.end;\n      const sortBy = sortFilter.value.by;\n      const sortOrder = sortFilter.value.order;\n      let url = `/search?q=${searchQuery}`;\n      url += ids ? `&ids=${ids}` : '';\n      url += start ? `&from=${start}` : '';\n      url += end ? `&to=${end}` : '';\n      url += sortBy ? `&sortBy=${sortBy}` : '';\n      url += sortOrder ? `&sortOrder=${sortOrder}` : '';\n      prevCommitteeRef.current = committeeFilter.value;\n      prevDateRangeRef.current = dateRangeFilter.value;\n      prevSortRef.current = sortFilter.value;\n      prevSearchRef.current = searchQuery;\n      history.replace(url);\n    }\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handlePopupClose();\n  };\n\n  return (\n    <React.Fragment>\n      <FiltersSection visible={true}>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group widths='2'>\n            <Form.Input\n              placeholder='Enter a keyword to search meeting transcripts'\n              action={<Button type='submit' primary>Search</Button>}\n              value={searchQuery}\n              onChange={onSearchQueryChange} />\n          </Form.Group>\n        </Form>\n        <EventsFilter\n          filters={[committeeFilter, dateRangeFilter, sortFilter]}\n          handlePopupClose={handlePopupClose}\n          sortByOptions={[{ label: 'Committee', value: 'name' },\n          { label: 'Date', value: 'date' },\n          { label: 'Relevance ', value: 'value' }]} />\n      </FiltersSection>\n      <Results>\n        {(!initialGetEventsComplete) ? (\n          <LoadingText>Loading...</LoadingText>\n        ) : (\n            <ResultCount>{visibleEvents.length} results</ResultCount>\n          )}\n        <EventCardGroup events={visibleEvents} />\n      </Results>\n    </React.Fragment>\n  );\n};\n\nexport default EventCardGroupContainer;","import React from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport styled from \"@emotion/styled\";\nimport queryString from \"query-string\";\nimport EventCardGroup from \"../containers/EventCardGroup\";\n\nconst Layout = styled(Container)({\n  minHeight: \"100vh\"\n});\n\nconst ContentContainer = styled(Container)({\n  marginTop: \"2em !important\",\n  marginBottom: \"5em !important\"\n});\n\nconst Search = ({ location }) => {\n  const { q, ids, from, to, sortBy, sortOrder } = queryString.parse(location.search);\n  const committeeFilterValue = {};\n  if(ids) {\n    ids.split(',').forEach(id => committeeFilterValue[id] = true);\n  }\n  return (\n    <Layout>\n      <ContentContainer>\n        <EventCardGroup\n          query={q}\n          committeeFilterValue={committeeFilterValue}\n          start={from || ''}\n          end={to || ''}\n          sortBy={sortBy || ''}\n          sortOrder={sortOrder || ''} />\n      </ContentContainer>\n    </Layout>\n  );\n};\n\nexport default Search;\n","function hhmmss(sec_num) {\n  sec_num = parseInt(sec_num, 10); // don't forget the second param\n  var hours = Math.floor(sec_num / 3600);\n  var minutes = Math.floor((sec_num - hours * 3600) / 60);\n  var seconds = sec_num - hours * 3600 - minutes * 60;\n\n  if (hours < 10) {\n    hours = \"0\" + hours;\n  }\n  if (minutes < 10) {\n    minutes = \"0\" + minutes;\n  }\n  if (seconds < 10) {\n    seconds = \"0\" + seconds;\n  }\n  return hours + \":\" + minutes + \":\" + seconds;\n}\n\nexport default hhmmss;\n","import React from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport { AutoSizer, CellMeasurer, CellMeasurerCache, List, WindowScroller } from 'react-virtualized';\nimport { Icon } from \"semantic-ui-react\";\nimport Highlighter from \"react-highlight-words\";\nimport styled from \"@emotion/styled\";\nimport hhmmss from \"../utils/hhmmss\";\n\nconst TranscriptItem = styled.div({\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  alignItems: \"center\",\n  margin: \"1em 0\",\n  padding: \"0.2em\"\n});\n\nconst TranscriptItemText = styled.div(props => ({\n  width: props.isSearch ? \"100%\" : \"85%\",\n  order: props.isSearch ? \"0\" : \"1\",\n  boxSizing: \"border-box\",\n  fontSize: \"16px\",\n  lineHeight: \"1.5em\",\n  \"@media(max-width:720px)\": {\n    width: \"100%\",\n    order: \"0\"\n  }\n}));\n\nconst TimeStamp = styled.div(props => ({\n  width: props.isSearch ? \"100%\" : \"15%\",\n  order: props.isSearch ? \"1\" : \"0\",\n  boxSizing: \"border-box\",\n  padding: props.isSearch ? \"0\" : \"0.5em\",\n  \"@media(max-width:720px)\": {\n    width: \"100%\",\n    padding: \"0\",\n    order: \"1\"\n  }\n}));\n\nconst EventTranscript = ({\n  searchText,\n  transcript,\n  handleSeek,\n  isSearch\n}) => {\n  const windowScrollerRef = React.useRef(null);\n\n  const cache = new CellMeasurerCache({\n    fixedWidth: true,\n    defaultHeight: 100,\n  });\n\n  React.useEffect(() => {\n    const handleUpdateScrollPosition = () => {\n      if (windowScrollerRef.current) {\n        windowScrollerRef.current.updatePosition();\n      }\n    };\n    document.addEventListener(\"update-scroll-position\", handleUpdateScrollPosition);\n    return () => {\n      document.removeEventListener(\"update-scroll-position\", handleUpdateScrollPosition);\n    };\n  }, []);\n\n  const onResize = () => {\n    cache.clearAll();\n  };\n\n  const Row = ({ index, parent, key, style }) => (\n    <CellMeasurer\n      key={key}\n      cache={cache}\n      parent={parent}\n      columnIndex={0}\n      rowIndex={index}\n    >\n      <div style={style}>\n        <TranscriptItem>\n          <TimeStamp isSearch={isSearch}>\n            <Button size=\"tiny\" onClick={() => handleSeek(transcript[index].start_time)}>\n              <Icon name=\"play\" />\n              {hhmmss(transcript[index].start_time)}\n            </Button>\n          </TimeStamp>\n          <TranscriptItemText isSearch={isSearch}>\n            <Highlighter\n              searchWords={[searchText]}\n              autoEscape={true}\n              textToHighlight={transcript[index].text}\n            />\n          </TranscriptItemText>\n        </TranscriptItem>\n      </div>\n    </CellMeasurer>\n  );\n\n  if (isSearch) {\n    return (\n      <AutoSizer onResize={onResize}>\n        {({ width, height }) => (\n          <List\n            deferredMeasurementCache={cache}\n            height={height}\n            rowCount={transcript.length}\n            rowHeight={cache.rowHeight}\n            rowRenderer={Row}\n            scrollToIndex={0}\n            style={{ willChange: \"\" }}\n            width={width}\n          />\n        )}\n      </AutoSizer>\n    );\n  } else {\n    return (\n      <WindowScroller ref={windowScrollerRef}>\n        {({ height, isScrolling, onChildScroll, scrollTop }) => (\n          <AutoSizer disableHeight onResize={onResize}>\n            {({ width }) => (\n              <List\n                autoHeight\n                deferredMeasurementCache={cache}\n                height={height}\n                isScrolling={isScrolling}\n                onScroll={onChildScroll}\n                rowCount={transcript.length}\n                rowHeight={cache.rowHeight}\n                rowRenderer={Row}\n                scrollTop={scrollTop}\n                style={{ willChange: \"\" }}\n                width={width}\n              />)}\n          </AutoSizer>\n        )}\n      </WindowScroller>\n    );\n  }\n};\n\nexport default React.memo(EventTranscript);","import React from \"react\";\nimport { Input } from \"semantic-ui-react\";\nimport styled from \"@emotion/styled\";\nimport EventTranscript from \"./EventTranscript\";\nimport isSubstring from \"../utils/isSubstring\";\n\nconst StyledEventSearch = styled.div({\n  margin: \"1em 0\",\n  width: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  boxSizing: \"border-box\",\n  \"@media (min-aspect-ratio:5/4), (min-width:1200px)\": {\n    width: \"40%\",\n    margin: \"0\"\n  }\n});\n\nconst Subheader = styled.h2({ width: \"100%\" });\n\nconst SearchInput = styled(Input)({\n  width: \"100%\",\n  fontSize: \"16px !important\",\n  lineHeight: \"1.5 !important\"\n});\n\nconst SearchResultCount = styled.span({\n  display: \"block\",\n  marginTop: \"1em\",\n  color: \"grey\",\n  paddingLeft: \"15px\"\n});\n\nconst TranscriptSearchHelpMessage = styled.span({\n  display: \"block\",\n  marginTop: \"1em\",\n  fontSize: \"16px !important\",\n  lineHeight: \"1.5 !important\",\n  paddingLeft: \"15px\"\n});\n\nconst SearchResultsWrapper = styled.div({\n  marginTop: \"1em\",\n  border: \"1px solid lightgray\",\n  borderRadius: \"0.28rem\",\n  boxSizing: \"border-box\",\n  minHeight: \"calc(.5625 * 90vw)\",\n  \"@media (min-aspect-ratio:5/4), (min-width:1200px)\": {\n    flex: \"1 1 auto\",\n    minHeight: \"0\"\n  }\n});\n\nconst EventSearch = ({\n  transcript,\n  handleSeek,\n  mediaQueriesMatches\n}) => {\n  const [transcriptSearchText, setTranscriptSearchText] = React.useState(\"\");\n\n  const handleTranscriptSearch = (e, { value }) => {\n    setTranscriptSearchText(value);\n    if(!mediaQueriesMatches) {\n      document.dispatchEvent(new CustomEvent(\"update-scroll-position\"));\n    }\n  };\n\n  const transcriptItems = transcript.filter(({ text }) => isSubstring(text, transcriptSearchText));\n\n  return (\n    <StyledEventSearch>\n      <Subheader>Search Transcript</Subheader>\n      <SearchInput\n        onChange={handleTranscriptSearch}\n        value={transcriptSearchText}\n        placeholder=\"Search transcript\"\n      />\n      {transcriptSearchText !== \"\" && (\n        <SearchResultCount>\n          {transcriptItems.length} results\n        </SearchResultCount>\n      )}\n      {transcriptSearchText !== \"\" && transcriptItems.length > 0 && (\n        <SearchResultsWrapper>\n          <EventTranscript\n            searchText={transcriptSearchText}\n            transcript={transcriptItems}\n            handleSeek={handleSeek}\n            isSearch={true}\n          />\n        </SearchResultsWrapper>\n      )}\n      {transcriptSearchText === \"\" && (\n        <TranscriptSearchHelpMessage>\n          Enter a search term to get results.\n        </TranscriptSearchHelpMessage>\n      )}\n    </StyledEventSearch>\n  );\n};\n\nexport default EventSearch;","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nconst MinuteList = styled.ol({\n  listStylePosition: \"outside\",\n  paddingLeft: \"1.5em\"\n});\n\nconst MinuteTitle = styled.div({\n  fontSize: \"1em\",\n  fontWeight: \"500\"\n});\n\nconst MinuteDescription = styled.div({\n  fontSize: \"0.95em\"\n});\n\nconst FileList = styled.ul({\n  listStylePosition: \"outside\",\n  listStyleType: \"disc\",\n  paddingLeft: \"2em\"\n});\n\nconst EventMinutes = ({\n  minutes,\n  scPageUrl\n}) => {\n  return (\n    <React.Fragment>\n      <h3>Minutes</h3>\n      <MinuteList>\n        {minutes.map(({ minutes_item }) => (\n          <li key={minutes_item.id}>\n            <MinuteTitle>{minutes_item.matter ? minutes_item.matter : minutes_item.name}</MinuteTitle>\n            {minutes_item.matter && minutes_item.matter !== minutes_item.name && <MinuteDescription>{minutes_item.name}</MinuteDescription>}\n            {minutes_item.file.length > 0 && <FileList>\n              {minutes_item.file.map(({ id, name, uri }) => (\n                <li key={id}>\n                  <a target=\"_blank\" rel=\"noopener noreferrer\" href={uri}>{name}</a>\n                </li>\n              ))}\n            </FileList>}\n          </li>\n        ))}\n      </MinuteList>\n      <h3>Links</h3>\n      <a href={scPageUrl}>Seattle Channel Event Page</a>\n    </React.Fragment>\n  );\n};\n\nexport default EventMinutes;","import React from 'react'\nimport { Table } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport styled from \"@emotion/styled\";\nimport getDateTime from \"../utils/getDateTime\";\n\nconst Headers = [\n  {\n    accessor: 'matter',\n    text: 'Matter',\n    width: '2'\n  },\n  {\n    accessor: 'decision',\n    text: 'Decision',\n    width: '1'\n  },\n  {\n    accessor: 'name',\n    text: 'Name',\n    width: '6'\n  },\n  {\n    accessor: 'votingRecords',\n    text: 'Vote',\n    width: '5'\n  }\n]\n\nconst MiniTable = styled('div')({\n  display: 'flex'\n});\n\nconst Person = styled('div')({\n  width: '70%'\n});\n\nconst Decision = styled('div')({\n  width: '30%'\n});\n\nconst StyledTableHeader = styled(Table.Header)({\n  '@media(max-width:767px)': {\n    display: 'none !important'\n  }\n});\n\n\nconst VotingTable = ({ votingData, isPerson }) => (\n  <Table striped>\n    <StyledTableHeader>\n      <Table.Row>\n        {Headers.map(headerMetaData => (<Table.HeaderCell\n          key={headerMetaData.text}>{headerMetaData.text}\n          </Table.HeaderCell> \n        ))}\n        {/* If we are rendering votes for a person, we want to link to the event */}\n        {isPerson && <Table.HeaderCell key={'Event'}>Event</Table.HeaderCell>}\n      </Table.Row>\n    </StyledTableHeader>\n    <Table.Body>\n      {votingData.map(votingDatum => (\n        <Table.Row key={votingDatum.id}>\n          {Headers.map(headerMetaData => {\n            if (headerMetaData.accessor !== 'votingRecords') {\n              return (\n                <Table.Cell key={headerMetaData.accessor} width={headerMetaData.width}>\n                  {votingDatum[headerMetaData.accessor]}\n                </Table.Cell>\n              )\n            }\n            if (votingDatum.formattedIndividualVotes) {\n              return (\n                <Table.Cell key={headerMetaData.accessor} width={headerMetaData.width}>\n                  {votingDatum.formattedIndividualVotes.map(record => {\n                    return (\n                      <MiniTable key={record.full_name}>\n                        <Person>\n                          <Link to={`/people/${record.person_id}`}>\n                            {record.full_name}\n                          </Link>\n                        </Person>\n                        <Decision>\n                          {record.decision}\n                        </Decision>\n                      </MiniTable>\n                    )\n                  })}\n                </Table.Cell>\n              )\n            } else {\n              return (\n                <React.Fragment key={headerMetaData.accessor}>\n                  <Table.Cell width={'1'}>\n                    {votingDatum.voteForPerson}\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Link to={`/events/${votingDatum.eventId}`}>\n                      <span>{votingDatum.body_name}</span>\n                    </Link>\n                    <div>{getDateTime(votingDatum.eventDate)}</div>\n                  </Table.Cell>\n                </React.Fragment>\n              )\n            }\n          })}\n        </Table.Row>\n      ))}\n    </Table.Body>\n  </Table>\n)\n\nexport default VotingTable\n","import React from \"react\";\nimport { Menu, Sticky } from \"semantic-ui-react\";\nimport EventMinutes from \"./EventMinutes\";\nimport EventTranscript from \"./EventTranscript\";\nimport VotingTable from \"./VotingTable\";\nimport styled from \"@emotion/styled\";\n\nconst StyledEventTabs = styled.div({\n  margin: \"1em 0\",\n  width: \"100%\",\n  fontSize: \"16px\",\n  lineHeight: \"1.5\",\n  \"a.item\": {\n    fontSize: \"1.3em !important\"\n  }\n});\n\nconst StyledEventMenu = styled(Menu)({\n  borderBottom: \"0 !important\",\n  marginBottom: \"1em !important\",\n  paddingTop: \"1em !important\",\n  backgroundColor: \"white !important\",\n  zIndex: \"0 !important\",\n  width: \"100%\"\n});\n\nconst EventTabs = ({\n  minutes,\n  scPageUrl,\n  transcript,\n  votes,\n  handleSeek,\n  topOffset,\n  mediaQueriesMatches\n}) => {\n  const [activeItem, setActiveItem] = React.useState(\"details\");\n  const contextRef = React.useRef(null);\n\n  React.useEffect(() => {\n    const domRect = contextRef.current.getBoundingClientRect();\n    if (domRect.top < 0) {\n      contextRef.current.scrollIntoView(true);\n      if (!mediaQueriesMatches) {\n        window.scrollBy(0, -topOffset);\n      }\n    }\n  }, [activeItem, mediaQueriesMatches, topOffset]);\n\n  const handleItemClick = (e, { name }) => {\n    setActiveItem(name);\n  };\n\n  return (\n    <StyledEventTabs ref={contextRef}>\n      <Sticky\n        context={contextRef}\n        offset={topOffset}\n        styleElement={{ zIndex: \"1\" }}\n      >\n        <StyledEventMenu secondary pointing>\n          <Menu.Item active={activeItem === \"details\"} name=\"details\" onClick={handleItemClick} />\n          <Menu.Item active={activeItem === \"transcript\"} name=\"transcript\" onClick={handleItemClick} />\n          <Menu.Item active={activeItem === \"votes\"} name=\"votes\" onClick={handleItemClick} />\n        </StyledEventMenu>\n      </Sticky>\n      {{\n        details: <EventMinutes minutes={minutes} scPageUrl={scPageUrl} />,\n        transcript: <EventTranscript\n          searchText={\"\"}\n          transcript={transcript}\n          handleSeek={handleSeek}\n          isSearch={false}\n        />,\n        votes: votes.length ? <VotingTable votingData={votes} /> : <div>No votes found for this event.</div>\n      }[activeItem]}\n    </StyledEventTabs>\n  );\n};\n\nexport default React.memo(EventTabs);\n","import React from \"react\";\nimport EventSearch from \"./EventSearch\";\nimport EventTabs from \"./EventTabs\";\nimport ReactPlayer from \"react-player\";\nimport styled from \"@emotion/styled\";\nimport getDateTime from \"../utils/getDateTime\";\n\nconst StyledEvent = styled.div({\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  justifyContent: \"space-between\"\n});\n\nconst Header = styled.div({\n  width: \"100%\",\n  margin: \"1em 0\"\n});\n\nconst EventDate = styled.h5({\n  margin: \"0.1em 0\",\n  color: \"grey\",\n  fontWeight: \"400\"\n});\n\nconst FixedSentinel = styled.div({\n  position: \"absolute\",\n  left: \"0\",\n  right: \"0\",\n  visibility: \"hidden\",\n  height: \"90px\",\n  backgroundColor: \"yellow\"\n});\n\nconst DummyContainer = styled.div(props => ({\n  position: \"relative\",\n  display: \"none\",\n  \"@media (min-aspect-ratio:5/4), (min-width:1200px)\": {\n    display: props.isFixed ? \"block\" : \"none\",\n    width: \"59%\"\n  }\n}));\n\nconst DummyDiv = styled.div({\n  position: \"absolute\",\n  top: \"0\",\n  left: \"0\",\n  backgroundColor: \"black\",\n  height: \"100%\",\n  width: \"100%\"\n});\n\nconst PlayerContainer = styled.div(props => ({\n  width: \"100%\",\n  position: !props.isPip ? \"sticky\" : \"relative\",\n  top: \"0\",\n  zIndex: \"2\",\n  \"@media (min-aspect-ratio:5/4), (min-width:1200px)\": {\n    position: props.isFixed && !props.isPip ? \"fixed\" : \"relative\",\n    width: props.isFixed && !props.isPip ? \"20vw\" : \"59%\",\n    right: \"0\"\n  }\n}));\n\nconst PlayerWrapper = styled.div({\n  position: \"relative\",\n  paddingTop: \"56.25%\"\n});\n\nconst StyledReactPlayer = styled(ReactPlayer)({\n  position: \"absolute\",\n  top: \"0\",\n  left: \"0\"\n});\n\nconst Event = ({\n  id,\n  title,\n  date,\n  minutes,\n  scPageUrl,\n  videoUrl,\n  transcript,\n  votes\n}) => {\n  const fixedSentinelRef = React.useRef(null);\n  const videoPlayerRef = React.useRef(null);\n  const [isPip, setIsPip] = React.useState(false);\n  const [isFixed, setIsFixed] = React.useState(false);\n  const [mediaQueriesMatches, setMediaQueriesMatches] = React.useState(window.matchMedia(\"(min-aspect-ratio:5/4), (min-width:1200px)\").matches);\n  const [topOffset, setTopOffset] = React.useState(0);\n\n  React.useEffect(() => {\n    const options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 0.1\n    };\n\n    const handleIntersect = (entries, observer) => {\n      if (mediaQueriesMatches && !isPip) {\n        if (entries[0].intersectionRatio >= 0.1 && entries[0].isIntersecting) {\n          setIsFixed(false);\n        } else {\n          setIsFixed(true);\n        }\n      }\n    };\n\n    const observer = new IntersectionObserver(handleIntersect, options);\n    observer.observe(fixedSentinelRef.current);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [isPip, mediaQueriesMatches]);\n\n  React.useEffect(() => {\n    const video = videoPlayerRef.current.getInternalPlayer();\n\n    const onEnterPip = () => {\n      setIsFixed(false);\n      setIsPip(true);\n    };\n\n    const onLeavePip = () => {\n      setIsPip(false);\n    };\n\n    video.addEventListener(\"enterpictureinpicture\", onEnterPip);\n    video.addEventListener(\"leavepictureinpicture\", onLeavePip);\n    return () => {\n      video.removeEventListener(\"enterpictureinpicture\", onEnterPip);\n      video.removeEventListener(\"leavepictureinpicture\", onLeavePip);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    const onResize = () => {\n      const mediaQueriesList = window.matchMedia(\"(min-aspect-ratio:5/4), (min-width:1200px)\");\n      if(!mediaQueriesList.matches) {\n        setTopOffset(videoPlayerRef.current.getInternalPlayer().offsetHeight);\n      } else {\n        setTopOffset(0);\n      }\n      setMediaQueriesMatches(mediaQueriesList.matches);\n\n    };\n    window.addEventListener(\"resize\", onResize);\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, []);\n\n  const handleSeek = seconds => {\n    videoPlayerRef.current.seekTo(parseFloat(seconds));\n    const video = videoPlayerRef.current.getInternalPlayer();\n\n    if (video.paused && videoPlayerRef.current.getCurrentTime() > 0) {\n      video.play();\n    }\n  };\n\n  const onVideoReady = () => {\n    if(!mediaQueriesMatches) {\n      setTopOffset(videoPlayerRef.current.getInternalPlayer().offsetHeight);\n    }\n  };\n\n  return (\n    <StyledEvent>\n      <Header>\n        <h1>{title}</h1>\n        <EventDate>Meeting Date: {getDateTime(date)}</EventDate>\n      </Header>\n      <FixedSentinel ref={fixedSentinelRef} />\n      <DummyContainer isFixed={isFixed}>\n        <PlayerWrapper>\n          <DummyDiv />\n        </PlayerWrapper>\n      </DummyContainer>\n      <PlayerContainer isPip={isPip} isFixed={isFixed}>\n        <PlayerWrapper>\n          <StyledReactPlayer\n            ref={videoPlayerRef}\n            url={videoUrl}\n            onReady={onVideoReady}\n            controls\n            height=\"100%\"\n            width=\"100%\"\n          />\n        </PlayerWrapper>\n      </PlayerContainer>\n      <EventSearch\n        transcript={transcript}\n        handleSeek={handleSeek}\n        mediaQueriesMatches={mediaQueriesMatches}\n      />\n      <EventTabs\n        minutes={minutes}\n        scPageUrl={scPageUrl}\n        transcript={transcript}\n        votes={votes}\n        handleSeek={handleSeek}\n        topOffset={topOffset}\n        mediaQueriesMatches={mediaQueriesMatches}\n      />\n    </StyledEvent>\n  );\n};\n\nexport default Event;\n","import React from \"react\";\nimport { getEventById } from \"../api\";\nimport { Loader } from \"semantic-ui-react\";\nimport Event from \"../components/Event\";\nimport useDocumentTitle from \"../hooks/useDocumentTitle\";\nimport getDateTime from \"../utils/getDateTime\";\n\nconst EventContainer = ({ id }) => {\n  const [event, setEvent] = React.useState();\n  useDocumentTitle(event ? `${event.name} - ${getDateTime(event.date)}` : 'Loading...');\n\n  React.useEffect(() => {\n    try {\n      (async () => {\n        const eventData = await getEventById(id);\n        setEvent(eventData);\n      })();\n    } catch (e) {\n      // log error and display message\n    }\n  }, [id]);\n\n  return event ? (\n    <Event\n      id={id}\n      title={event.name}\n      date={event.date}\n      description={event.description}\n      scPageUrl={event.scPageUrl}\n      videoUrl={event.videoUrl}\n      minutes={event.minutes}\n      transcript={event.transcript}\n      votes={event.votes}\n    />\n  ) : <Loader active/>;\n};\n\nexport default EventContainer;\n","import React from \"react\";\nimport Event from \"../containers/Event\";\nimport { Container } from \"semantic-ui-react\";\nimport styled from \"@emotion/styled\";\n\nconst Layout = styled(Container)({\n  minHeight: \"100vh\"\n});\n\nconst ContentContainer = styled(Container)({\n  marginTop: \"2em !important\",\n  marginBottom: \"5em !important\"\n});\n\nconst EventPage = ({ match }) => {\n  return (\n    <Layout>\n      <ContentContainer>\n        <Event id={match.params.id} />\n      </ContentContainer>\n    </Layout>\n  );\n};\n\nexport default EventPage;\n","import React from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport styled from \"@emotion/styled\";\nimport AllEvents from \"../containers/AllEvents\";\n\nconst Layout = styled(Container)({\n  minHeight: \"100vh\"\n});\n\nconst ContentContainer = styled(Container)({\n  marginTop: \"2em !important\",\n  marginBottom: \"5em !important\"\n});\n\nconst AllEventsPage = () => {\n  return (\n    <Layout>\n      <ContentContainer>\n        <h2>All Events</h2>\n        <AllEvents />\n      </ContentContainer>\n    </Layout>\n  );\n};\n\nexport default AllEventsPage;\n","import React, { Fragment } from 'react'\nimport { withRouter } from \"react-router-dom\"\nimport styled from \"@emotion/styled\";\n\nconst FlexWrapContainer = styled('div')({\n    display: 'flex',\n    flexWrap: 'wrap',\n})\n\nconst Card = styled('div')({\n    width: '250px',\n    border: '1px solid #d4d4d5',\n    boxShadow: '0 1px 3px 0 #d4d4d5',\n    padding: '1.5rem',\n    marginBottom: '1.5rem',\n    borderRadius: '3px',\n    marginRight: '2rem',\n    cursor: 'pointer',\n    transition: '.4s all',\n    \":hover\": {\n        transform: 'scale(1.15)',\n    }\n})\n\nconst CardHeading = styled('h5')({\n    fontWeight: 600,\n    fontSize: '1.2rem'\n})\n\n\nconst PeopleCardGroup = ({ people, history }) => {\n    return (\n        <Fragment>\n            <h2>Voting History</h2>\n            <FlexWrapContainer>\n                {people.map(({ full_name, email, id }) => (\n                    <Card\n                        key={full_name}\n                        onClick={() => history.push(`/people/${id}`)}>\n                        <CardHeading>{full_name}</CardHeading>\n                        <p>City Council Member</p>\n                        <a href={`mailto:${email}`}>{email}</a>\n                    </Card>\n                    )\n                )}\n            </FlexWrapContainer>\n        </Fragment>\n    )\n}\n\nexport default withRouter(PeopleCardGroup)\n","import React, { useEffect, useState } from 'react'\nimport { getAllPeople } from '../api'\nimport PeopleCardGroup from '../components/PeopleCardGroup'\nimport { Loader } from \"semantic-ui-react\";\nimport useDocumentTitle from \"../hooks/useDocumentTitle\";\n\nconst PeopleCardGroupContainer = () => {\n    const [people, updatePeople] = useState(null);\n    useDocumentTitle('City Council Members');\n\n    useEffect(() => {\n        async function fetchData() {\n            const data = await getAllPeople()\n            updatePeople(data)\n        }\n        fetchData()\n    },[])\n\n    if(!people) {\n        return <Loader active/>\n    }\n    return (\n        <PeopleCardGroup people={people} />\n    )\n}\n\nexport default PeopleCardGroupContainer;","import React from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport styled from \"@emotion/styled\";\nimport PeopleCardGroupContainer from '../containers/PeopleCardGroupContainer';\n\n// TODO: duplicate from Home, move to utils\nconst Layout = styled(Container)({\n    minHeight: \"100vh\"\n  });\n\n// TODO: duplicate from Home, move to utils\nconst ContentContainer = styled(Container)({\n    marginTop: \"2em !important\",\n    marginBottom: \"5em !important\"\n  });\n\nconst People = () => {\n    return (\n        <Layout>\n            <ContentContainer>\n                <PeopleCardGroupContainer />\n            </ContentContainer>\n        </Layout>\n    );\n}\n\nexport default People;\n","import React from 'react';\nimport VotingTable from './VotingTable'\nimport { Card } from 'semantic-ui-react'\nimport styled from \"@emotion/styled\";\n\nconst FlexContainer = styled('div')({\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center'\n})\n\nconst Person = ({personHistory: {full_name, email, phone, website, votes}}) => {\n    return (\n    <FlexContainer>\n        <Card style={{padding: '1rem', width: '100%'}}>\n            <Card.Header>{full_name}</Card.Header>\n            <a href={`mailto:${email}`}>{email}</a>\n            <div>{phone}</div>\n            <div>\n                Website:  \n                <a  target={'_blank'}\n                    rel=\"noopener noreferrer\"\n                    href={website}>{website}</a>\n            </div>\n        </Card>\n        <VotingTable votingData={votes} isPerson={true} />\n    </FlexContainer>\n    )\n}\n\nexport default Person;","import React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { getVotesForPerson } from '../api';\nimport Person from '../components/Person';\nimport { Loader } from \"semantic-ui-react\";\nimport useDocumentTitle from \"../hooks/useDocumentTitle\";\n\nconst PersonContainer = ({ match: { params: { id }} }) => {\n    const [personHistory, updatePersonHistory] = useState(null);\n    useDocumentTitle(personHistory ? personHistory.full_name : 'Loading...');\n    useEffect(() => {\n        async function fetchData() {\n            const votes = await getVotesForPerson(id);\n            updatePersonHistory(votes);\n        }\n        fetchData()\n    }, [id])\n    if(!personHistory) {\n        return <Loader active/>\n    }\n    return (\n        <Person personHistory={personHistory}/>\n    )\n}\n\nexport default withRouter(PersonContainer);","import React from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport PersonContainer from \"../containers/PersonContainer\";\nimport styled from \"@emotion/styled\";\n\n// TODO: duplicate from Home, move to utils\nconst Layout = styled(Container)({\n    minHeight: \"100vh\"\n  });\n\n// TODO: duplicate from Home, move to utils\nconst ContentContainer = styled(Container)({\n    marginTop: \"2em !important\",\n    marginBottom: \"5em !important\"\n  });\n\nconst Person = () => {\n    return (\n        <Layout>\n            <ContentContainer>\n                <PersonContainer />\n            </ContentContainer>\n        </Layout>\n    );\n}\n\nexport default Person;\n","import React from \"react\";\nimport ReactGA from \"react-ga\";\nimport withTracker from \"./utils/withTracker\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Home from \"./pages/Home\";\nimport Search from \"./pages/Search\";\nimport Event from \"./pages/Event\";\nimport AllEvents from \"./pages/AllEvents\";\nimport People from \"./pages/People\";\nimport Person from \"./pages/Person\";\n\n// Run Google Analytics\nReactGA.initialize(\"UA-145893191-1\");\n\nconst App = () => (\n  <Router basename=\"/\">\n    <Header />\n    <Switch>\n      <Route exact path=\"/\" component={withTracker(Home)} />\n      <Route path=\"/search\" component={withTracker(Search)} />\n      <Route exact path=\"/events\" component={withTracker(AllEvents)} />\n      <Route path=\"/events/:id\" component={withTracker(Event)} />\n      <Route exact path=\"/people\" component={withTracker(People)} />\n      <Route exact path=\"/people/:id\" component={withTracker(Person)} />\n    </Switch>\n    <Footer />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}